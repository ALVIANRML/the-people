{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Carousel}from\"react-bootstrap\";import axios from\"axios\";import{API_URL}from\"../api\";import'../css/MyCarousel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyCarousel=()=>{const[images,setImages]=useState([]);// State untuk menyimpan data gambar\nconst[loading,setLoading]=useState(true);// State untuk loading\nconst[error,setError]=useState(null);// State untuk menangkap error\nuseEffect(()=>{const fetchImages=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/get-all-images\"));console.log(\"API Response:\",response.data);// Log data API\n// Pastikan data berbentuk array\nif(Array.isArray(response.data)){setImages(response.data);// Simpan data gambar ke state\n}else{throw new Error(\"Invalid response format\");// Jika format tidak sesuai\n}}catch(error){setError(error.message||\"Error fetching images\");console.error(\"Error fetching images:\",error);}finally{setLoading(false);// Set loading selesai\n}};fetchImages();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Tampilkan indikator loading\n}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});// Tampilkan pesan error\n}return/*#__PURE__*/_jsx(Carousel,{className:\"custom-carousel\",interval:3000,indicators:true,controls:true,fade:true,children:images.length>0?images.map((image,index)=>/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100 custom-image\",src:image.image// Gunakan URL Base64 dari API\n,alt:\"Slide \".concat(index+1),style:{height:\"79vh\",objectFit:\"cover\"}})},image.id||index)):/*#__PURE__*/_jsx(\"div\",{children:\"No images available\"})// Jika tidak ada gambar\n});};export default MyCarousel;","map":{"version":3,"names":["React","useEffect","useState","Carousel","axios","API_URL","jsx","_jsx","jsxs","_jsxs","MyCarousel","images","setImages","loading","setLoading","error","setError","fetchImages","response","get","concat","console","log","data","Array","isArray","Error","message","children","className","interval","indicators","controls","fade","length","map","image","index","Item","src","alt","style","height","objectFit","id"],"sources":["C:/projek AKU/the-people/src/component/Carousel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Carousel } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../api\";\r\nimport '../css/MyCarousel.css'\r\n\r\nconst MyCarousel = () => {\r\n  const [images, setImages] = useState([]); // State untuk menyimpan data gambar\r\n  const [loading, setLoading] = useState(true); // State untuk loading\r\n  const [error, setError] = useState(null); // State untuk menangkap error\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/get-all-images`);\r\n        console.log(\"API Response:\", response.data); // Log data API\r\n\r\n        // Pastikan data berbentuk array\r\n        if (Array.isArray(response.data)) {\r\n          setImages(response.data); // Simpan data gambar ke state\r\n        } else {\r\n          throw new Error(\"Invalid response format\"); // Jika format tidak sesuai\r\n        }\r\n      } catch (error) {\r\n        setError(error.message || \"Error fetching images\");\r\n        console.error(\"Error fetching images:\", error);\r\n      } finally {\r\n        setLoading(false); // Set loading selesai\r\n      }\r\n    };\r\n\r\n    fetchImages();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>; // Tampilkan indikator loading\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>; // Tampilkan pesan error\r\n  }\r\n\r\n  return (\r\n    <Carousel\r\n      className=\"custom-carousel\"\r\n      interval={3000}\r\n      indicators={true}\r\n      controls={true}\r\n      fade={true}\r\n    >\r\n      {images.length > 0 ? (\r\n        images.map((image, index) => (\r\n          <Carousel.Item key={image.id || index}>\r\n            <img\r\n              className=\"d-block w-100 custom-image\"\r\n              src={image.image} // Gunakan URL Base64 dari API\r\n              alt={`Slide ${index + 1}`}\r\n              style={{\r\n                height: \"79vh\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n          </Carousel.Item>\r\n        ))\r\n      ) : (\r\n        <div>No images available</div> // Jika tidak ada gambar\r\n      )}\r\n    </Carousel>\r\n  );\r\n};\r\n\r\nexport default MyCarousel;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,QAAQ,CAChC,MAAO,uBAAuB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAAE;AAC1C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC9C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAAE;AAE1CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,IAAAC,MAAA,CAAIf,OAAO,mBAAiB,CAAC,CAC7DgB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEJ,QAAQ,CAACK,IAAI,CAAC,CAAE;AAE7C;AACA,GAAIC,KAAK,CAACC,OAAO,CAACP,QAAQ,CAACK,IAAI,CAAC,CAAE,CAChCX,SAAS,CAACM,QAAQ,CAACK,IAAI,CAAC,CAAE;AAC5B,CAAC,IAAM,CACL,KAAM,IAAI,CAAAG,KAAK,CAAC,yBAAyB,CAAC,CAAE;AAC9C,CACF,CAAE,MAAOX,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACY,OAAO,EAAI,uBAAuB,CAAC,CAClDN,OAAO,CAACN,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CAAE;AACrB,CACF,CAAC,CAEDG,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIJ,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAqB,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAChC,CAEA,GAAIb,KAAK,CAAE,CACT,mBAAON,KAAA,QAAAmB,QAAA,EAAK,SAAO,CAACb,KAAK,EAAM,CAAC,CAAE;AACpC,CAEA,mBACER,IAAA,CAACJ,QAAQ,EACP0B,SAAS,CAAC,iBAAiB,CAC3BC,QAAQ,CAAE,IAAK,CACfC,UAAU,CAAE,IAAK,CACjBC,QAAQ,CAAE,IAAK,CACfC,IAAI,CAAE,IAAK,CAAAL,QAAA,CAEVjB,MAAM,CAACuB,MAAM,CAAG,CAAC,CAChBvB,MAAM,CAACwB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBACtB9B,IAAA,CAACJ,QAAQ,CAACmC,IAAI,EAAAV,QAAA,cACZrB,IAAA,QACEsB,SAAS,CAAC,4BAA4B,CACtCU,GAAG,CAAEH,KAAK,CAACA,KAAO;AAAA,CAClBI,GAAG,UAAApB,MAAA,CAAWiB,KAAK,CAAG,CAAC,CAAG,CAC1BI,KAAK,CAAE,CACLC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,OACb,CAAE,CACH,CAAC,EATgBP,KAAK,CAACQ,EAAE,EAAIP,KAUjB,CAChB,CAAC,cAEF9B,IAAA,QAAAqB,QAAA,CAAK,qBAAmB,CAAK,CAAE;AAChC,CACO,CAAC,CAEf,CAAC,CAED,cAAe,CAAAlB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}