{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";// Import useNavigate\nimport{API_URL}from\"../api\";import{MDBBtn,MDBContainer,MDBRow,MDBCol,MDBIcon,MDBInput}from'mdb-react-ui-kit';import logo from'../img/the_people_logo_2_top 2 copy.png';import'../css/Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[username,setUsername]=useState(\"\");// Untuk menyimpan username\nconst[password,setPassword]=useState(\"\");// Untuk menyimpan password\nconst[message,setMessage]=useState(\"\");// Untuk pesan respons\nconst navigate=useNavigate();// Untuk navigasi ke halaman lain\nconst handleLogin=async e=>{e.preventDefault();try{const response=await axios.post(\"\".concat(API_URL,\"/login\"),{username,password});if(response.status===200){localStorage.setItem(\"token\",response.data.token);// Simpan token\nsetMessage(response.data.message);// Pesan sukses\nnavigate(response.data.redirectTo);// Arahkan ke /dashboard\n}}catch(error){setMessage(error.response?error.response.data.message:\"Server error\");// Pesan error\n}};return/*#__PURE__*/_jsx(MDBContainer,{fluid:true,children:/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{sm:\"6\",style:{overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row ps-0 pe-5 pt-5\",children:[/*#__PURE__*/_jsx(MDBIcon,{fas:true,icon:\"crow fa-3x me-3\",style:{color:'#709085'}}),/*#__PURE__*/_jsx(\"span\",{className:\"h1 fw-bold mb-0\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo-login\",src:logo,alt:\"Logo\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center h-custom-2 w-75 pt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-normal mb-3 ps-5 pb-3\",style:{letterSpacing:'1px'},children:\"Log in\"}),/*#__PURE__*/_jsx(MDBInput,{wrapperClass:\"mb-4 mx-5 w-100\",label:\"Username\",id:\"username\",type:\"text\",size:\"lg\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(MDBInput,{wrapperClass:\"mb-4 mx-5 w-100\",label:\"Password\",id:\"password\",type:\"password\",size:\"lg\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"mb-4 px-5 mx-5 w-100\",style:{backgroundColor:'#17a2b8',color:'#fff',border:'none',borderRadius:'4px',padding:'10px 20px',fontSize:'16px',cursor:'pointer'},children:\"Login\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"ms-5\",style:{color:message===\"Login successful\"?\"green\":\"red\"},children:message}),/*#__PURE__*/_jsx(\"p\",{className:\"small mb-5 pb-lg-3 ms-5\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-muted\",href:\"#!\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ms-5\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"#!\",className:\"link-info\",children:\"Register here\"})]})]})]}),/*#__PURE__*/_jsx(MDBCol,{sm:\"6\",className:\"d-none d-sm-block px-0\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.pinimg.com/1200x/59/47/33/5947333920d8f09737d017ecfef27b1c.jpg\",alt:\"Login\",className:\"w-100\",style:{objectFit:'cover',objectPosition:'left'}})})]})});}export default App;","map":{"version":3,"names":["React","useState","axios","useNavigate","API_URL","MDBBtn","MDBContainer","MDBRow","MDBCol","MDBIcon","MDBInput","logo","jsx","_jsx","jsxs","_jsxs","App","username","setUsername","password","setPassword","message","setMessage","navigate","handleLogin","e","preventDefault","response","post","concat","status","localStorage","setItem","data","token","redirectTo","error","fluid","children","sm","style","overflow","className","fas","icon","color","src","alt","letterSpacing","wrapperClass","label","id","type","size","value","onChange","target","onClick","backgroundColor","border","borderRadius","padding","fontSize","cursor","href","objectFit","objectPosition"],"sources":["C:/projek AKU/the-people/src/cms/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate\r\nimport { API_URL } from \"../api\";\r\nimport {\r\n  MDBBtn,\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBIcon,\r\n  MDBInput\r\n} from 'mdb-react-ui-kit';\r\nimport logo from '../img/the_people_logo_2_top 2 copy.png';\r\nimport '../css/Login.css';\r\n\r\nfunction App() {\r\n  const [username, setUsername] = useState(\"\"); // Untuk menyimpan username\r\n  const [password, setPassword] = useState(\"\"); // Untuk menyimpan password\r\n  const [message, setMessage] = useState(\"\");   // Untuk pesan respons\r\n  const navigate = useNavigate();              // Untuk navigasi ke halaman lain\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(`${API_URL}/login`, {\r\n        username,\r\n        password,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        localStorage.setItem(\"token\", response.data.token); // Simpan token\r\n        setMessage(response.data.message); // Pesan sukses\r\n        navigate(response.data.redirectTo); // Arahkan ke /dashboard\r\n      }\r\n    } catch (error) {\r\n      setMessage(\r\n        error.response ? error.response.data.message : \"Server error\"\r\n      ); // Pesan error\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MDBContainer fluid>\r\n      <MDBRow>\r\n        <MDBCol sm='6' style={{ overflow: 'hidden' }}>\r\n          <div className='d-flex flex-row ps-0 pe-5 pt-5'>\r\n            <MDBIcon fas icon=\"crow fa-3x me-3\" style={{ color: '#709085' }} />\r\n            <span className=\"h1 fw-bold mb-0\">\r\n              <img className='logo-login' src={logo} alt=\"Logo\" />\r\n            </span>\r\n          </div>\r\n          <div className='d-flex flex-column justify-content-center h-custom-2 w-75 pt-4'>\r\n            <h3 className=\"fw-normal mb-3 ps-5 pb-3\" style={{ letterSpacing: '1px' }}>Log in</h3>\r\n            <MDBInput\r\n              wrapperClass='mb-4 mx-5 w-100'\r\n              label='Username'\r\n              id='username'\r\n              type='text'\r\n              size=\"lg\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n            <MDBInput\r\n              wrapperClass='mb-4 mx-5 w-100'\r\n              label='Password'\r\n              id='password'\r\n              type='password'\r\n              size=\"lg\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              onClick={handleLogin}\r\n              className=\"mb-4 px-5 mx-5 w-100\"\r\n              style={{\r\n                backgroundColor: '#17a2b8',\r\n                color: '#fff',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                padding: '10px 20px',\r\n                fontSize: '16px',\r\n                cursor: 'pointer',\r\n              }}\r\n            >\r\n              Login\r\n            </button>\r\n            {message && (\r\n              <p className=\"ms-5\" style={{ color: message === \"Login successful\" ? \"green\" : \"red\" }}>\r\n                {message}\r\n              </p>\r\n            )}\r\n            <p className=\"small mb-5 pb-lg-3 ms-5\">\r\n              <a className=\"text-muted\" href=\"#!\">Forgot password?</a>\r\n            </p>\r\n            <p className='ms-5'>\r\n              Don't have an account? <a href=\"#!\" className=\"link-info\">Register here</a>\r\n            </p>\r\n          </div>\r\n        </MDBCol>\r\n        <MDBCol sm='6' className='d-none d-sm-block px-0'>\r\n          <img\r\n            src=\"https://i.pinimg.com/1200x/59/47/33/5947333920d8f09737d017ecfef27b1c.jpg\"\r\n            alt=\"Login\"\r\n            className=\"w-100\"\r\n            style={{ objectFit: 'cover', objectPosition: 'left' }}\r\n          />\r\n        </MDBCol>\r\n      </MDBRow>\r\n    </MDBContainer>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}